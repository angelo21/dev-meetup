webpackJsonp([1],{"2GYr":function(t,e){},"7zck":function(t,e){},NHnr:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r("/5sW"),a={data:function(){return{sideNav:!1}},computed:{menuItems:function(){var t=[{icon:"face",title:"Sign up",link:"/signup"},{icon:"lock_open",title:"Sign in",link:"/signin"}];return this.userIsAuthenticated&&(t=[{icon:"supervisor_account",title:"View Meetups",link:"/meetups"},{icon:"room",title:"Organize Meetup",link:"/meetup/new"}]),t},userIsAuthenticated:function(){return null!==this.$store.getters.user&&void 0!==this.$store.getters.user}},methods:{onLogout:function(){this.$store.dispatch("logout")}}},i={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-toolbar",{staticClass:"red darken-1",attrs:{dark:""}},[r("v-toolbar-side-icon",{staticClass:"hidden-md-and-up",on:{click:function(e){t.sideNav=!t.sideNav}}}),t._v(" "),r("v-toolbar-title",[r("router-link",{staticStyle:{cursor:"pointer"},attrs:{to:"/",tag:"span"}},[t._v("DevMeetup")])],1),t._v(" "),r("v-spacer"),t._v(" "),r("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[t._l(t.menuItems,function(e){return r("v-btn",{key:e.title,attrs:{flat:"",to:e.link}},[r("v-icon",{attrs:{left:""}},[t._v(t._s(e.icon))]),t._v("\n        "+t._s(e.title)+"\n      ")],1)}),t._v(" "),t.userIsAuthenticated?r("v-btn",{attrs:{flat:""},on:{click:t.onLogout}},[r("v-icon",{attrs:{left:""}},[t._v("exit_to_app")]),t._v("\n        Logout\n      ")],1):t._e()],2)],1),t._v(" "),r("main",[r("router-view")],1),t._v(" "),r("v-navigation-drawer",{attrs:{temporary:"",absolute:""},model:{value:t.sideNav,callback:function(e){t.sideNav=e},expression:"sideNav"}},[r("v-list",[t._l(t.menuItems,function(e){return r("v-list-tile",{key:e.title,attrs:{to:e.link}},[r("v-list-tile-action",[r("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),r("v-list-tile-content",[t._v("\n          "+t._s(e.title)+"\n        ")])],1)}),t._v(" "),t.userIsAuthenticated?r("v-list-tile",{on:{click:t.onLogout}},[r("v-list-tile-action",[r("v-icon",[t._v("exit_to_app")])],1),t._v(" "),r("v-list-tile-content",[t._v("Logout")])],1):t._e()],2)],1)],1)},staticRenderFns:[]},n=r("VU/8")(a,i,!1,null,null,null).exports,o=r("/ocq"),l={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-layout",{staticClass:"mb-5",attrs:{row:"",wrap:""}},[r("v-flex",{staticClass:"text-xs-center text-sm-right",attrs:{xs12:"",sm6:""}},[r("v-btn",{staticClass:"red darken1",attrs:{large:"",router:"",to:"/meetups",dark:""}},[t._v("Explore Meetups\n      ")])],1),t._v(" "),r("v-flex",{staticClass:"text-xs-center text-sm-left",attrs:{xs12:"",sm6:""}},[r("v-btn",{staticClass:"red darken 1",attrs:{large:"",router:"",to:"/meetup/new",dark:""}},[t._v("Organize Meetup\n      ")])],1)],1),t._v(" "),r("v-layout",{attrs:{row:""}},[r("v-flex",{staticClass:"text-xs-center",attrs:{xs12:""}},[t.loading?r("v-progress-circular",{attrs:{indeterminate:"",color:"red darken1",width:7,size:70}}):t._e()],1)],1),t._v(" "),!t.loading&&t.featuredAvailable>0?r("v-layout",{staticClass:"mt-2",attrs:{row:"",wrap:""}},[r("v-flex",{staticStyle:{height:"70vh"},attrs:{xs12:""}},[r("v-carousel",{staticStyle:{cursor:"pointer",height:"100%"}},t._l(t.meetups,function(e){return r("v-carousel-item",{key:e.id,attrs:{src:e.imageUrl},nativeOn:{click:function(r){t.onLoadMeetup(e.id)}}},[r("div",{staticClass:"title"},[t._v("\n          "+t._s(e.title)+"\n        ")])])}))],1)],1):t.loading||t.featuredAvailable?t._e():r("div",{staticClass:"text-xs-center"},[r("h2",{staticClass:"red--text darken1"},[t._v("Organize a Meetup to Get Started")])])],1)},staticRenderFns:[]};var d=r("VU/8")({computed:{meetups:function(){return this.$store.getters.featuredMeetups},featuredAvailable:function(){return this.$store.getters.featuredMeetups.length},loading:function(){return this.$store.getters.loading}},methods:{onLoadMeetup:function(t){this.$router.push("/meetups/"+t)}}},l,!1,function(t){r("2GYr")},"data-v-bec447fe",null).exports,u={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",t._l(t.meetups,function(e){return r("v-layout",{key:e.id,staticClass:"mb-2",attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm10:"",md8:"","offset-sm1":"","offset-md2":""}},[r("v-card",{staticClass:"primary"},[r("v-container",{attrs:{fluid:""}},[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs5:"",sm4:"",md3:""}},[r("v-card-media",{attrs:{src:e.imageUrl,height:"130px"}})],1),t._v(" "),r("v-flex",{attrs:{xs7:"",sm8:"",md9:""}},[r("v-card-title",{attrs:{"primary-title":""}},[r("div",[r("h3",{staticClass:"white--text mb-0"},[t._v("\n                    "+t._s(e.title)+"\n                  ")]),t._v(" "),r("div",[t._v(t._s(e.dateFormatted))]),t._v(" "),r("div",[t._v(t._s(e.timeFormatted))])])]),t._v(" "),r("v-card-actions",[r("v-icon",[t._v("arrow_forward")]),t._v(" "),r("v-btn",{attrs:{flat:"",to:"/meetups/"+e.id}},[t._v("View Meetup\n                ")])],1)],1)],1)],1)],1)],1)],1)}))},staticRenderFns:[]},c=r("VU/8")({computed:{meetups:function(){return this.$store.getters.loadedMeetups}}},u,!1,null,null,null).exports,v={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{width:"350px",persistent:""},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[r("v-btn",{attrs:{slot:"activator",fab:"",accent:""},slot:"activator"},[r("v-icon",[t._v("edit")])],1),t._v(" "),r("v-card",[r("v-container",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card-title",[t._v("Edit Meetup")])],1)],1),t._v(" "),r("v-divider"),t._v(" "),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card-text",[r("v-text-field",{attrs:{name:"title",label:"Title*",id:"title",color:"red darken1",required:""},model:{value:t.editedTitle,callback:function(e){t.editedTitle=e},expression:"editedTitle"}}),t._v(" "),r("v-textarea",{attrs:{name:"description",label:"Description*",id:"description","multi-line":"",color:"red darken1",required:""},model:{value:t.editedDescription,callback:function(e){t.editedDescription=e},expression:"editedDescription"}})],1)],1)],1),t._v(" "),r("v-divider"),t._v(" "),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card-actions",[r("v-btn",{staticClass:"red--text darken1",attrs:{flat:""},on:{click:function(e){t.editDialog=!t.editDialog}}},[t._v("Close\n            ")]),t._v(" "),r("v-spacer"),t._v(" "),r("v-btn",{staticClass:"red--text darken1",attrs:{flat:"",dark:""},on:{click:t.onSaveChanges}},[t._v("Save\n            ")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},p={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{persistent:""},model:{value:t.registerDialog,callback:function(e){t.registerDialog=e},expression:"registerDialog"}},[r("v-btn",{staticClass:"red darken1",attrs:{slot:"activator",dark:"",accent:""},slot:"activator"},[t._v("\n    "+t._s(t.userIsRegistered?"Unregister":"Register")+"\n  ")]),t._v(" "),r("v-card",[r("v-container",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[t.userIsRegistered?r("v-card-title",[t._v("\n            Unregister From Meetup\n          ")]):r("v-card-title",[t._v("\n            Register For Meetup\n          ")])],1)],1),t._v(" "),r("v-divider"),t._v(" "),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card-text",[t._v("\n            You can always change your decision later.\n          ")])],1)],1),t._v(" "),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card-actions",[r("v-btn",{staticClass:"red--text",attrs:{flat:""},on:{click:function(e){t.registerDialog=!1}}},[t._v("Cancel\n            ")]),t._v(" "),r("v-btn",{staticClass:"green--text",attrs:{flat:""},on:{click:t.onAgree}},[t._v("Confirm\n            ")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},m={props:["id"],computed:{meetup:function(){return this.$store.getters.loadedMeetup(this.id)},userIsAuthenticated:function(){return null!==this.$store.getters.user&&void 0!==this.$store.getters.user},userIsCreator:function(){return!!this.userIsAuthenticated&&this.$store.getters.user.id===this.meetup.creatorId},loading:function(){return this.$store.getters.loading}},components:{AppEditMeetup:r("VU/8")({props:["meetup"],data:function(){return{editDialog:!1,editedTitle:this.meetup.title,editedDescription:this.meetup.description}},methods:{onSaveChanges:function(){""!==this.editedTitle.trim()&&""!==this.editedDescription.trim()&&(this.editDialog=!1,this.$store.dispatch("updateMeetupData",{id:this.meetup.id,title:this.editedTitle,description:this.editedDescription}))}}},v,!1,null,null,null).exports,AppRegister:r("VU/8")({props:["meetupId"],data:function(){return{registerDialog:!1}},computed:{userIsRegistered:function(){var t=this;return this.$store.getters.user.registeredMeetups.findIndex(function(e){return e===t.meetupId})>=0}},methods:{onAgree:function(){this.userIsRegistered?this.$store.dispatch("unregisterUserFromMeetup",this.meetupId):this.$store.dispatch("registerUserForMeetup",this.meetupId)}}},p,!1,null,null,null).exports}},f={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[t.loading?r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{staticClass:"text-xs-center",attrs:{xs12:""}},[t.loading?r("v-progress-circular",{attrs:{indeterminate:"",color:"red darken1",width:7,size:70}}):t._e()],1)],1):r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card",[r("v-card-title",[r("h4",{staticClass:"red--text darken-6"},[t._v(t._s(t.meetup.title))]),t._v(" "),t.userIsCreator?[r("v-spacer"),t._v(" "),r("app-edit-meetup",{attrs:{meetup:t.meetup}})]:t._e()],2),t._v(" "),r("v-card-media",{attrs:{src:t.meetup.imageUrl,height:"400px"}}),t._v(" "),r("v-card-text",[r("div",{staticClass:"red--text darken1"},[t._v(t._s(t.meetup.dateFormatted)+", "+t._s(t.meetup.timeFormatted)+" - "+t._s(t.meetup.location)+"\n          ")]),t._v(" "),r("div",{staticClass:"red--text darken1"},[t._v(t._s(t.meetup.description)+"\n          ")])]),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),t.userIsAuthenticated&&!t.userIsCreator?r("app-register",{attrs:{meetupId:t.id}}):t._e()],1)],1)],1)],1)],1)},staticRenderFns:[]},h=r("VU/8")(m,f,!1,null,null,null).exports,g=r("d7EF"),x=r.n(g),_={data:function(){return{title:"",location:"",imageUrl:"",description:"",date:null,dateFormatted:null,time:null,timeFormatted:null,image:null}},computed:{formIsValid:function(){return""!==this.title&&""!==this.location&&""!==this.imageUrl&&""!==this.description&&null!==this.date&&null!==this.time},dateDisplay:{get:function(){return this.dateFormatted}},timeDisplay:{get:function(){return this.timeFormatted}}},methods:{onCreateMeetup:function(){if(this.formIsValid&&this.image){var t={title:this.title,location:this.location,image:this.image,description:this.description,dateFormatted:this.dateFormatted,timeFormatted:this.timeFormatted};this.$store.dispatch("createMeetup",t),this.$router.push("/meetups")}},formatDate:function(){var t=this.date.split("-"),e=x()(t,3),r=e[0],s=e[1]+"-"+e[2]+"-"+r;this.dateFormatted=s},formatTime:function(){var t=this.time,e=t.split(":"),r=parseInt(e[0]);t="00:00"===t?"12:00 AM":r<=11?r+":"+e[1]+" AM":(r-=12)+":"+e[1]+" PM",this.timeFormatted=t},onClickFile:function(){this.$refs.fileInput.click()},onFilePicked:function(t){var e=this,r=t.target.files;if(r[0].name.lastIndexOf(".")<=0)return alert("Please add a valid file");var s=new FileReader;s.addEventListener("load",function(){e.imageUrl=s.result}),s.readAsDataURL(r[0]),this.image=r[0]}}},w={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{"xs-12":"",sm6:"","offset-sm3":"","text-xs-center":""}},[r("h2",{staticClass:"red--text darken-1"},[t._v("Create a New Meetup")])])],1),t._v(" "),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-form",{on:{submit:function(e){return e.preventDefault(),t.onCreateMeetup(e)}}},[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("v-text-field",{attrs:{name:"title",label:"Title*",id:"title",color:"red darken1",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1)],1),t._v(" "),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("v-text-field",{attrs:{name:"location",label:"Location*",id:"location",color:"red darken1",required:""},model:{value:t.location,callback:function(e){t.location=e},expression:"location"}})],1)],1),t._v(" "),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("v-btn",{staticClass:"red darken1",attrs:{Raised:"",dark:""},on:{click:t.onClickFile}},[t._v("Upload Image\n            ")]),t._v(" "),r("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.onFilePicked}})],1)],1),t._v(" "),r("v-layout",{attrs:{row:"","justify-center":""}},[r("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"",sm6:""}},[r("img",{attrs:{src:t.imageUrl,width:"100%"}})])],1),t._v(" "),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("v-textarea",{attrs:{name:"description",label:"Description*",id:"description","multi-line":"",color:"red darken1",required:""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)],1),t._v(" "),r("v-layout",{attrs:{row:"","justify-center":"","mb-2":""}},[r("v-flex",{attrs:{xs12:"",sm6:"","text-xs-center":""}},[r("h2",{staticClass:"red--text darken1"},[t._v("Choose a date and time")])])],1),t._v(" "),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm6:""}},[r("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"}},[r("v-text-field",{attrs:{slot:"activator",color:"red darken1",label:"Select Date","prepend-icon":"event",readonly:""},slot:"activator",model:{value:t.dateDisplay,callback:function(e){t.dateDisplay=e},expression:"dateDisplay"}}),t._v(" "),r("v-date-picker",{attrs:{"header-color":"red darken1"},on:{input:t.formatDate},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[r("v-spacer")],1)],1)],1),t._v(" "),r("v-flex",{attrs:{xs12:"",sm6:""}},[r("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"}},[r("v-text-field",{attrs:{slot:"activator",color:"red darken1",label:"Select Time","prepend-icon":"event",readonly:""},slot:"activator",model:{value:t.timeDisplay,callback:function(e){t.timeDisplay=e},expression:"timeDisplay"}}),t._v(" "),r("v-time-picker",{attrs:{"header-color":"red darken1"},on:{input:t.formatTime},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}},[r("v-spacer")],1)],1)],1),t._v(" "),r("v-spacer")],1),t._v(" "),r("v-layout",{attrs:{row:""}},[r("v-flex",{staticClass:"text-xs-center",attrs:{xs12:""}},[r("v-btn",{staticClass:"red darken1",attrs:{dark:"",disabled:!t.formIsValid,type:"submit"}},[t._v("Create Meetup\n            ")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},k=r("VU/8")(_,w,!1,null,null,null).exports,b={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("p",[this._v("The profile page")])])}]},y=r("VU/8")(null,b,!1,null,null,null).exports,M={data:function(){return{email:"",password:"",confirmPassword:""}},computed:{comparePasswords:function(){return this.password!==this.confirmPassword?"Passwords do not match":""},user:function(){return this.$store.getters.user},error:function(){return this.$store.getters.error},loading:function(){return this.$store.getters.loading}},watch:{user:function(t){null!==t&&void 0!==t&&this.$router.push("/")}},methods:{onSignUp:function(){this.$store.dispatch("signUserUp",{email:this.email,password:this.password})},onDismissed:function(){this.$store.dispatch("clearError")}}},C={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[t.error?r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("app-alert",{attrs:{text:t.error.message},on:{dismissed:t.onDismissed}})],1)],1):t._e(),t._v(" "),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("v-card",[r("v-card-text",[r("v-container",[r("v-form",{on:{submit:function(e){return e.preventDefault(),t.onSignUp(e)}}},[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{name:"email",label:"Mail",id:"email",type:"email",color:"red reddarken1",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),t._v(" "),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{name:"password",label:"Password",id:"password",type:"password",color:"red reddarken1",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t._v(" "),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{name:"confirmPassword",label:"Confirm Password",id:"confirmPassword",type:"password",color:"red reddarken1",rules:[t.comparePasswords]},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}})],1)],1),t._v(" "),r("v-layout",{attrs:{row:""}},[r("v-flex",{staticClass:"text-xs-center",attrs:{xs12:""}},[r("v-btn",{staticClass:"red reddarken1",attrs:{disabled:t.loading,loading:t.loading,type:"submit",dark:""}},[t._v("\n                    Sign Up\n                    "),r("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[r("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1)],1)],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var F=r("VU/8")(M,C,!1,function(t){r("vIpT")},null,null).exports,U={data:function(){return{email:"",password:""}},computed:{user:function(){return this.$store.getters.user},error:function(){return this.$store.getters.error},loading:function(){return this.$store.getters.loading}},watch:{user:function(t){null!==t&&void 0!==t&&this.$router.push("/")}},methods:{onSignIn:function(){this.$store.dispatch("signUserIn",{email:this.email,password:this.password})},onDismissed:function(){this.$store.dispatch("clearError")}}},I={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[t.error?r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("app-alert",{attrs:{text:t.error.message},on:{dismissed:t.onDismissed}})],1)],1):t._e(),t._v(" "),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("v-card",[r("v-card-text",[r("v-container",[r("v-form",{on:{submit:function(e){return e.preventDefault(),t.onSignIn(e)}}},[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{name:"email",label:"Mail",id:"email",type:"email",color:"red reddarken1",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),t._v(" "),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{name:"password",label:"Password",id:"password",type:"password",color:"red reddarken1",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t._v(" "),r("v-layout",{attrs:{row:""}},[r("v-flex",{staticClass:"text-xs-center",attrs:{xs12:""}},[r("v-btn",{staticClass:"red reddarken1",attrs:{disabled:t.loading,loading:t.loading,type:"submit",dark:""}},[t._v("\n                    Sign In\n                    "),r("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[r("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1)],1)],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var D=r("VU/8")(U,I,!1,function(t){r("m/HH")},null,null).exports,$=r("Dd8w"),L=r.n($),E=r("uqrR"),R=r.n(E),S=r("NYxO"),A=r("kxiW");s.default.use(S.a);var P=new S.a.Store({state:{loadedMeetups:[],user:null,loading:!1,error:null},mutations:{registerUserForMeetup:function(t,e){var r=e.id;t.user.registeredMeetups.findIndex(function(t){return t.id===r})>=0||(t.user.registeredMeetups.push(r),t.user.fbkeys[r]=e.fbkey)},unregisteredUserFromMeetup:function(t,e){var r=t.user.registeredMeetups;r.splice(r.findIndex(function(t){return t.id===e}),1),R()(t.user.fbkeys,e)},setLoadedMeetups:function(t,e){t.loadedMeetups=e},createMeetup:function(t,e){t.loadedMeetups.push(e)},updateMeetupData:function(t,e){var r=t.loadedMeetups.find(function(t){return t.id===e.id});e.title&&(r.title=e.title),e.description&&(r.description=e.description),e.dateFormatted&&(r.dateFormatted=e.dateFormatted)},setUser:function(t,e){t.user=e},setLoading:function(t,e){t.loading=e},setError:function(t,e){t.error=e},clearError:function(t){t.error=null}},actions:{registerUserForMeetup:function(t,e){var r=t.commit,s=t.getters;r("setLoading",!0);var a=s.user;A.database().ref("/users/"+a.id).child("/registrations/").push(e).then(function(t){r("setLoading",!1),r("registerUserForMeetup",{id:e,fbkey:t.key})}).catch(function(t){console.log(t),r("setLoading",!1)})},unregisterUserFromMeetup:function(t,e){var r=t.commit,s=t.getters;r("setLoading",!0);var a=s.user;if(a.fbkeys){var i=a.fbkeys[e];A.database().ref("/users/"+a.id+"/registrations").child(i).remove().then(function(){r("setLoading",!1),r("unregisteredUserFromMeetup",e)}).catch(function(t){console.log(t),r("setLoading",!1)})}},loadMeetups:function(t){var e=t.commit;e("setLoading",!0),A.database().ref("meetups").once("value").then(function(t){var r=[],s=t.val();for(var a in s)r.push({id:a,title:s[a].title,location:s[a].location,description:s[a].description,imageUrl:s[a].imageUrl,dateFormatted:s[a].dateFormatted,timeFormatted:s[a].timeFormatted,creatorId:s[a].creatorId});e("setLoadedMeetups",r),e("setLoading",!1)}).catch(function(t){console.log(t),e("setLoading",!1)})},createMeetup:function(t,e){var r=t.commit,s=t.getters,a={title:e.title,location:e.location,description:e.description,dateFormatted:e.dateFormatted,timeFormatted:e.timeFormatted,creatorId:s.user.id},i=void 0,n=void 0;A.database().ref("meetups").push(a).then(function(t){return n=t.key}).then(function(t){var r=e.image.name,s=r.slice(r.lastIndexOf("."));return A.storage().ref("meetups/"+t+s).put(e.image)}).then(function(t){var e=t.metadata.fullPath;return A.storage().ref().child(e).getDownloadURL()}).then(function(t){return i=t,A.database().ref("meetups").child(n).update({imageUrl:i,id:n})}).then(function(){r("createMeetup",L()({},a,{imageUrl:i,id:n}))}).catch(function(t){return console.log(t)})},updateMeetupData:function(t,e){var r=t.commit;r("setLoading",!0);var s={};e.title&&(s.title=e.title),e.description&&(s.description=e.description),e.dateFormatted&&(s.dateFormatted=e.dateFormatted),A.database().ref("meetups").child(e.id).update(s).then(function(){r("setLoading",!1),r("updateMeetup",e)}).catch(function(t){console.log(t),r("setLoading",!1)})},signUserUp:function(t,e){var r=t.commit;r("setLoading",!0),r("clearError"),A.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(t){r("setLoading",!1);var e={id:t.user.uid,registeredMeetups:[],fbkeys:{}};r("setUser",e)}).catch(function(t){r("setLoading",!1),r("setError",t)})},signUserIn:function(t,e){var r=t.commit;r("setLoading",!0),r("clearError"),A.auth().signInWithEmailAndPassword(e.email,e.password).then(function(t){r("setLoading",!0);var e={id:t.user.uid,registeredMeetups:[],fbkeys:{}};r("setUser",e)}).catch(function(t){r("setLoading",!1),r("setError",t)})},autoSignIn:function(t,e){(0,t.commit)("setUser",{id:e.uid,registeredMeetups:[],fbkeys:{}})},fetchUserData:function(t){var e=t.commit,r=t.getters;e("setLoading",!0),A.database().ref("/users/"+r.user.id+"/registrations/").once("value").then(function(t){var s=t.val(),a=[],i={};for(var n in s)a.push(s[n]),i[s[n]]=n;var o={id:r.user.id,registeredMeetups:a,fbkeys:i};e("setLoading",!1),e("setUser",o)}).catch(function(t){console.log(t),e("setLoading",!1)})},logout:function(t){var e=t.commit;A.auth().signOut(),e("setUser",null)},clearError:function(t){(0,t.commit)("clearError")}},getters:{loadedMeetups:function(t){return t.loadedMeetups.sort(function(t,e){return t.date>e.date})},featuredMeetups:function(t,e){t.loadedMeetups.length;return e.loadedMeetups.slice(0,5)},loadedMeetup:function(t){return function(e){return t.loadedMeetups.find(function(t){return t.id==e})}},user:function(t){return t.user},loading:function(t){return t.loading},error:function(t){return t.error}}}),V=function(t,e,r){P.getters.user?r():r("/signin")};s.default.use(o.a);var T=new o.a({routes:[{path:"/",name:"Home",component:d},{path:"/meetups",name:"Meetups",component:c},{path:"/meetup/new",name:"CreateMeetup",component:k,beforeEnter:V},{path:"/meetups/:id",name:"Meetup",props:!0,component:h},{path:"/profile",name:"Profile",component:y,beforeEnter:V},{path:"/signup",name:"Signup",component:F},{path:"/signin",name:"Signin",component:D}]}),q=r("3EgV"),z=r.n(q),N=(r("7zck"),{render:function(){var t=this.$createElement;return(this._self._c||t)("v-alert",{attrs:{type:"error",dismissible:"",value:!0},on:{input:this.onClose}},[this._v(this._s(this.text)+"\n")])},staticRenderFns:[]}),O=r("VU/8")({props:["text"],methods:{onClose:function(){this.$emit("dismissed")}}},N,!1,null,null,null).exports;s.default.use(z.a),s.default.config.productionTip=!1,s.default.component("app-alert",O),new s.default({el:"#app",router:T,store:P,render:function(t){return t(n)},created:function(){var t=this;A.initializeApp({apiKey:"AIzaSyCL-bHW5RavI49dliKEFu8Jqy_XaVJrV2M",authDomain:"dev-meetup-c52a3.firebaseapp.com",databaseURL:"https://dev-meetup-c52a3.firebaseio.com",projectId:"dev-meetup-c52a3",storageBucket:"gs://dev-meetup-c52a3.appspot.com"}),A.auth().onAuthStateChanged(function(e){e&&(t.$store.dispatch("autoSignIn",e),t.$store.dispatch("fetchUserData"))}),this.$store.dispatch("loadMeetups")}})},"m/HH":function(t,e){},vIpT:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.6aef337d2cea21baba64.js.map